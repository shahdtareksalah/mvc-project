@model mvc_pets.Models.SiteContent
@using Microsoft.AspNetCore.Mvc.Rendering;
@{
    ViewData["Title"] = "Manage Site Content";
    var sectionKeys = ViewBag.SectionKeys as List<SelectListItem>;
}

<div class="container mt-4">
    <h2>Manage Site Content</h2>

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["SuccessMessage"]
        </div>
    }

    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger">
            @TempData["ErrorMessage"]
        </div>
    }

    <form asp-action="ManageSiteContent" method="post">
        @Html.AntiForgeryToken()
        <div class="form-group mb-3">
            <label>Section</label>
            <select asp-for="Key" class="form-control" asp-items="sectionKeys" onchange="this.form.submit()"></select>
        </div>
        <div class="form-group mb-3">
            <label>Title</label>
            <input asp-for="Title" class="form-control" />
        </div>
        <div class="form-group mb-3">
            <label>Content</label>
            <textarea asp-for="Content" class="form-control" rows="15" style="white-space: pre-wrap;"></textarea>
        </div>
        <button type="submit" class="btn btn-success">Save</button>
    </form>
</div> 